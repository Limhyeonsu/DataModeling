# 논리 모델링

## 논리 모델링이란
비즈니스에서 필요로 하는 데이터를 명확하고 구체적으로 정의하는 과정으로 비즈니스 전체 영역에 대한 상세한 수준의 데이터 구조를 설계한다. 데이터 주제영역 단위로 데이터 모델링을 진행하고 데이터에 관한 업무 특성을 모두 반영해야 한다. 핵심 엔티티를 중심으로 업무에 필요한 하위 엔티티로 확장하면서 엔티티를 상세화한다.
* 기초 논리 데이터 모델링 : 주제영역별로 핵심 엔티티를 도출하고 그들 간의 주요 관계를 설계하고, 엔티티별로 식별자를 정의하며 주요 속성을 도출한다.
* 논리 데이터 모델링 : 모든 업무영역에 필요한 데이터 모델을 설계하고, 시스템 관점에서 필요한 데이터 항목은 반영하지 않는다.

데이터에 대한 이력관리 대상은 꼭 필요한 부분만 반영하고, 단순한 정보변경 이력, 과거 통계 정보의 재현을 위한 이력은 반영하지 않아도 된다.

## 엔티티 정의 및 상세화
__핵심 엔티티(기준정보)__ : 업무처리와 상관없이 독립적으로 이미 정의한 엔티티이거나, 업무를 위해 미리 정의한 엔티티다. 단독으로 존재하거나 다른 핵심 엔티티에 종속되기도 한다. 데이터 모델링 과정에서 가장 먼저 분석해야할 대상이며 모든 업무 행위는 핵심 엔티티에 의해 정의되거나 핵심 엔티티 간의 관계에 의해 정의된다. 핵심 엔티티는 업무 행위의 주체가 되거나 행위의 대상이 되는 경우가 대부분이다.

성격에 따라 다음과 같이 분류할 수 있다.
* 유형 및 분류 - 각종 코드 정보
* 업무 규칙 및 지식 - 규정, 이벤트 발생 조건
* 업무 주체 및 대상 - 현실세계에 실제로 존재하는 유무형의 실체에 해당, 고객, 사원, 부서 등
* 장소 - 장소 자체가 의미를 가지는 엔티티도 있고, 다른 핵심 엔티티의 공간이나 위치 속성으로 존재하기도 한다.

핵심 엔티티는 독립적으로 존재하고 식별할 수 있다.

__중요 엔티티(업무기본)__ : 업무 주체와 업무 대상간의 거래나 업무 행위에 의해 발생하며 주문, 약정, 입출고처럼 구별 가능한 '업무 행위'를 대표하는 엔티티다. 핵심 엔티티의 종속적인 성격을 가지면서 업무 영역내에서는 비교적 독립적인 성격(강한 엔티티)를 가진다. 상위 엔티티의 주 식별자를 상속받지 않고, 독립적인 주 식별자를 가지고 있다는 점에서 다른 엔티티들과 구분된다. 그렇다해도 독립된 엔티티라 할 수 없고, 업무 행위의 주체나 대상에 종속되는 경우가 대부분이다.

중요 엔티티는 업무의 핵심 기능과 밀접한 관련이 있고, 주요 업무에서 반복하여 발생하는 데이터를 관리하는 엔티티이다.(업무 영역에서 가장 중심적인 업무처리에 대한 데이터 집합)

__행위 엔티티(업무상세)__ : 업무 행위에 대한 상세내역 및 업무 결과에 대한 '상태'를 나타내는 엔티티이며 중요 엔티티에 종속되거나 다른 행위 엔티티에 종속된다. 행위 엔티티는 하위에 또 다른 행위 엔티티를 가질 수 있고, 정규화 과정에서 다른 엔티티로 분리하기도 한다. 일반적으로 행위 엔티티는 중요 엔티티에 종속되므로 중요 엔티티를 삭제하면 행위 엔티티도 더 이상 관리하지 않는다.

* 상세/내역 : 주문내역이나 예산내역처럼 중요 엔티티에 해당하는 주문이나 예산을 구성하는 항목 단위로 분류하거나 더 작은 단위로 세분화한 엔티티에 해당한다. 마스터, 디테일 관계에서 디테일에 해당하는 엔티티로 봐도 된다.
* 상태 : 상태는 업무처리 흐름에 대한 상태를 관리한다. 업무처리 과정에서 반드시 발생하는 데이터이며 상태코드 값은 사전에 업무적으로 이미 정해진 값을 사용한다.
* 이력 : 원래 관리하던 데이터가 변경되었을 때 변경 전 데이터를 추가로 관리하는 엔티티다. 속성 전체를 이력으로 관리하는 경우 원래 엔티티와 동일한 형태로 이력 엔티티를 설계하여 변경된 항목 구분없이 전체 데이터를 생성하여 관리한다. 일부 속성만 관리하는 경우 관리할 속성을 식별하고 코드화하여 행으로 관리한다. 그리고 해당 속성의 값이 변경된 경우에만 데이터를 생성하여 관리한다.
* 기타 : 거래로그, 시스템 로그, 연계 데이터, 집계 데이터 등으로 구분