# 개념 모델링
## 데이터 모델링 접근방법
데이터 모델은 데이터 아키텍처의 핵심 구성요소다. 조직의 목표를 달성하고, 조직을 관리, 운영하기 위해 필요한 데이터를 식별하고 데이터 자산을 효율적으로 관리하기 위한 틀을 제공한다. 데이터 모델링은 프로젝트 상황에 따라 하향식 접근방식, 상향식 접근방식을 선택하거나 적절히 섞어서 진행할 수 있다. 하향식은 전체 데이터를 큰 개념으로 분할하고, 업무 담당자별로 단위 개념을 식별하면서 정의해 나가는 방식으로 개념 모델링, 논리 모델링, 물리 설계 순으로 상세화하면서 진행하게 된다.

상향식 접근은 업무 단위의 프로젝트 등 규모가 비교적 작거나 현업의 참여가 한정된 경우 기존 ERD, 보고서, 매뉴얼, 업무 지침서 등을 통해 관리해야 할 데이터 항목을 조사한 후 이를 근거로 데이터 모델링을 진행하는 방식이다. 어떤 방식이든 현업을 포함한 프로젝트 관련자들과 중간 과정을 공유하고 의견을 반영하는 과정은 반드시 필요하다.

데이터 모델링은 요구사항 수집, 요구사항 및 현행 시스템의 데이터 구조를 분석하여 문제점 및 개선 방향을 도출한다. 개념 모델링은 전체 데이터 영역을 대상으로 데이터 주제 영역을 식별하고, 정의, 높은 응집도 및 낮은 결합도 관점에서 주제 영역을 세분화하고 핵심 엔티티 및 식별자를 도출하여 관계를 정의한다.

논리 모델링 단계에서는 업무와 관련된 모든 엔티티를 도출하고 속성과 관계를 식별하여 세부적인 데이터 모델을 완성하는 과정이다. 이후 데이터베이스 특성을 고려하여 엔티티는 테이블로 속성은 컬럼으로 변환하고 파티션, 인덱스 등을 설계한다.

### 현행 분석 및 방향성 수립
현행 분석은 __현행 업무 분석__ (업무에 대한 기본적인 지식 습득, 업무 특성, 흐름파악, 문제점 및 개선 방안 도출)과 __현행 데이터 분석__ (산출물 수집하여 분석, 실제 데이터를 분석, 담당자를 통한 데이터 구조 성능적인 이슈를 중심으로 자료를 분석)을 포함한다.

현행 데이터 문제점을 파악하거나 목표 시스템에 대한 요구사항을 도출하여 데이터 모델링을 진행하는 방법은 다양하다. 프로젝트 초기에는 현업 담당자나 시스템 운영 담당자와 인터뷰를 통해 현행 문제점을 파악하거나 업무 요건을 도출하고, 실제 모델링 단계에서는 리버스 모델을 활용하여 진행하는 것이 효율적이다.

1) 현업 담당자와 협업 : 현업 담당자와 원활한 의사소통을 위해 모델러는 업무에 대한 기본적인 이해가 필수적이다. 업무지침서, 교육자료, 매뉴얼 등 문서를 참고하여 최대한 빨리 업무 지식을 쌓는 것이 중요하다. 업무지식이 뒷받침되야 서로 시간 낭비하지 않고 좋은 결과를 도출할 수 있다.
2) 문서를 통한 업무 요건 파악 : 업무 지침서, 과거 프로젝트 구축 산출물, 업무 시스템 매뉴얼 등 관련된 문서를 통해 업무나 데이터 구조를 파악할 수 있다. 그렇다고 전적으로 문서에 의존하여 파악하기 보다는 현업 담당자와 전산 담당자의 지원이 한정된 상태에서 보조 수단으로 사용할 수 있다.
3) 리버스 모델 활용 : 현행 ERD가 없거나 현행화가 이뤄지지 않은 경우 현행 시스템의 DB 메타정보를 이용하여 엔티티 및 속성을 도출하여 ERD를 작성할 수 있다. 이처럼 데이터 모델을 현행화하는 과정을 리버스 모델링이라 한다. [장점] - 현행 DB의 구조적인 문제점 파악할 수 있어 개선 방안을 도출하는데 활용할 수 있다, 누락 위험 없이 속성 도출 가능, 하나하나 파악하는 것보다 빠르고 효율적으로 작업가능 (*상세화 작업은 리버스 과정에서 가장 중요하다) [단점] - 리버스에 의존할 경우 새로운 사고로 확장하는데 어렵다.

### 리버스 모델링
DB 메타 정보를 이용하여 기초 데이터 모델을 생성(엔티티)하고, 컬럼에 대한 comment정보를 이용하거나 시스템 운영자의 지원을 받아 한글명으로 속성명을 수정한다. *엔티티 간의 관계를 파악하여 관계선을 작성하는 작업은 매우 중요

모델을 관리할 수 있는 단위로 나눠서 진행, 주제 영역별로 테이블을 나누어 수행하고, 속성 및 관계에 대한 상세화를 진행한다. 최대한 __상세화__ 하는 것이 중요하다. 또한 리버스 대상을 선별하는 것도 중요하다. 사용하지 않는 테이블은 작업 대상 목록에서 삭제하는 것에 망설이지 말자

엔티티 간의 관계를 식별하면서 관련된 엔티티를 모으고 위치를 조정하기 위해서 리버스 된 엔티티를 작은 업무 단위나 유사한 그룹으로 다누어 배치하여 작업하는 것이 좋다.

## 개념 모델링
개념 모델링은 데이터 분석 과정에서 수립한 방향성에 맞게 전체적인 관점에서 개략적인 데이터 모델을 제시하는 단계이다. 전사 관점의 데이터를 다루기 때문에 대상 업무 전체를 포괄적으로 수용하면서, 데이터 주제 영역을 계층적으로 도출하는 접근방식을 주로 사용한다. 업무 영역으로부터 요구사항을 형상화하여 개념을 도출하고, 개념을 구체화하여 엔티티를 식별한다. 개념 모델링은 모델링의 근간을 이루는 뼈대를 만드는 작업이므로 변경이 발생할 경우 후속 작업에 큰 영향을 미치게 되므로 명확한 원칙과 기준에 따라 진행해야한다.

개념 모델링은 일반적으로 아래와 같은 작업을 통해 진행된다.
* 주제영역 도출
* 주제영역 분류 및 정의
* 핵심 엔티티 정의 및 관계 정의

### 주제영역
기업이나 기관이 관리하는 데이터를 일관된 기준을 가지고 최상위 단계에서 분류한 데이터 집합이다. 독립된 단위로 이루어 지고, 주제영역 내에서 데이터는 상호 밀접한 관계를 가지며 다른 주제영역과 명확이 분리된다. 타 영역 데이터와 상호작용은 최소화하도록 정의해야한다.

[장점] - 비즈니스 환경 변화에도 일관된 분류 원칙에 따라 업무 환경 변화에 따른 데이터 영향을 최소화할 수 있는 바탕을 제공, 동일한 분류체계를 통해 신속하게 업무 데이터 파악 가능

1) 업무 관점 : 조직에서 발생한 데이터들을 서로 연결하여 업무 처리 효율을 높일 수 있고, 생산한 데이터를 잘 활용할 수 있다. 또 서로다른 조직에서 발생하는 데이터를 중복없이 관리하고, 통제함으로써 중복으로 인한 데이터 불일치 문제를 최소화하고, 데이터에 대한 신뢰도를 높일 수 있다.
2) 시스템 관점 : 할당된 IT 자원을 파악할 수 있어 IT구축에 따른 중복투자를 방지할 수 있고, 이미 투입된 자원을 효율적으로 재분배할 수 있다. 
3) 데이터 관리 관점 : 데이터에 대한 통합, 연계, 중복 등에 대한 방안을 수립하는 데 기초 자료로 활용할 수 있고, 최상위 수준의 데이터 아키텍처를 제공한다.
4) 데이터 설계 관점 : 통합관점에서 데이터 모델링을 통해 논리 모델, 물리 모델로 구체화하는 과정에서 방향을 제공한다.

### 주제영역 도출
주제영역은 업무에서 흔히 사용하는 용어, 업무지침서의 목차 등으로 얻을 수 있고, 현행 시스템의 주제영역이나 테이블을 참고하여 파악할 수 있다. 계층을 세분화해 나가는 하향식 방법과 엔티티를 분류하고 그룹핑하여 주제영역을 도출하는 상향식 접근 방법이 있다. 하향식의 경우 현행 시스템에 대한 구체적인 자료가 없거나 새롭게 시스템을 구축할 때 적용할 수 있다. 상향식은 업무나 데이터에 대한 구분이 비교적 자세히 식별된 상태에서 분류 원칙이나 기준에 따라 주제영역을 분류할 수 있을 때 적용할 수 있다.

### 주제영역 분류
데이터를 분류하는 방법에는 범정부 데이터 분류체계(주제영역)처럼 정부 조직(업무 기능)을 중심으로 데이터를 분류하는 경우, 업무 기능이 아닌 데이터 관점에서 분류하는 경우가 있다. 데이터 관점에서 분류하는 경우 주제영역 프레임워크를 이용하여 좀 더 쉽게 분류할 수 있다.

[주제영역 프레임워크] - __핵심데이터 주제영역__ : 비즈니스 주체와 대상, 비즈니스 지원하는 자원, 비즈니스 장소 (순수하게 데이터 내용상 중복을 배제하여 식별 가능하게 도출) / __중요 데이터 주제영역__ : 핵심 데이터 영역들이 관계한 사실을 바탕으로 상태, 방법, 행위들을 설명하기 위한 비즈니스 정보가 대상임, 일반적인 기능 목적과 정보 속성에 따라 분류

주제영역은 수평적으로는 데이터 범위를 나누고, 수직적으로는 계층을 나눌 수 있다. 범위를 나눌때
1) 주제 영역의 의미가 모호함 없이 명확해야한다.
2) 주제 영역기 중복되지 않으면서 누락이 없어야 한다.(MECE)
3) 동일한 레벨의 주제를 정의할 때 비슷한 수준의 하위 주제영역을 갖도록 분류한다.

*MECE - 항목들이 상호 배타적이면서(요소들간의 중복이 없다: 불필요한 자원낭비 및 혼동예방) 모였을 때는 완전히 전체를 이루는 것(빠지는 요소가 없다: 기회의 상실, 가능성의 상실 예방)

상위 주제영역의 경우 통합 및 연계를 고려하여 고객, 상품, 계약 등 데이터 응집력을 높이는 관점에서 분류한다. 하위 주제영역은 관리적(업무)인 측면으로 접근할 수 있으며, 상위 레벨에서 분류했던 원칙과 기준을 하위 레벨에도 그대로 적용해야한다.

주제영역은 데이터 관점에서 분류하는 것이 기본이지만 서비스 관점이나 업무 관점에서 분류할 수도 있다. 업무 관점으로 주제영역을 나눌 경우 여러 주제영역에서 중복된 데이터가 존재할 수 있다. 데이터를 바라보는 관점에 따라 완전히 다른 주제영역으로 분류될 수 있으므로 이해관계자와 충분히 협의하여 진행하는 것이 좋다.

### 주제영역 정의
주제영역을 설명하고 해당하는 데이터 범위나 내용을 명확히 정의하는 과정이다. 업무영역 전체를 포함하는지 중복된 부분은 없는지, 주제영역 간 동일한 기준이 적용되었는지 검토한다. 주제영역을 정의할 때 데이터 관점에서 바라보는 것도 중요하지만 무조건 데이터만 강조하면 현업과 의견을 일치하기가 어렵다.

### 주제영역을 정의할 때 어려운 점
1) 개념부족 : 현업 담당자의 주제영역 개념에 대한 이해도가 낮아 주제영역을 통한 의사소통을 하는 데 어려움이 있을 수 있다. 주제영역을 정의하기 전에 현업을 대상으로 주제영역 개념에 관해 설명하고 어떻게 활용되는지 예를 들어 설명하는 것이 필요하다.
2) 의견차이 : 주제영역을 정의하는 과정에서 모델러는 데이터관점, 협업은 실제 업무의 기능이나 흐름, 시스템 운영 담당자는 관리 운영 관점에서 바라보게 된다. 따라서 다양한 관점에서 생각하는 습관이 필요하고 업무를 이해하거나 업무지식을 습득하는 노력을 해야한다.
3) 확신 부족 : 주제영역은 정답이 없다. 최대한 간단하고 일관된 기준을 적용하여 이해 당사자들 간에 생각 차이를 좁혀야한다.
4) 오너십 : (책임소재) 주제영역을 정의하면서 데이터에 대한 역할 및 책임을 일정 부분 정의하는 것이 필요하다.

### 핵심 엔티티 식별
주제영역이 확정되면 최하위 데이터 주제영역별로 대표성을 갖는 핵심 엔티티를 도출하고 식별한다. 모든 최하위 데이터 주제영역은 하나 이상의 핵심 엔티티를 포함해야한다. 핵심 엔티티를 얼마나 도출해야하는지 정해져있지 않으므로 전반적인 데이터 구조와 관계를 파악할 수 있을 만큼 식별하는 것이 좋다. 가급적이면 주제영역 간에 핵심 엔티티 수가 크게 자이 나지 않도록 비슷한 수준으로 도출하는 것이 좋다.

### 식별자 및 속성 정의
식별자 및 주요 속성은 가급적 식별하여 데이터 집합을 명확히 하고, 의사소통 시 문제가 없도록 하는 것이 좋다. 또 식별자는 엔티티 개념을 가장 명확하게 표현할 수 있는 속성으로 구성한다. 개념적인 엔티티이기 때문에 엔티티 간 관계는 다대다로 표현되는 경우가 많다. 

정리)개념 모델링 단계에서는 주제영역을 정의하고 사업 영역의 골격이 되는 핵심 엔티티를 도출한다.